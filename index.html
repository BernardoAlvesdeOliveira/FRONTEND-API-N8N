<!DOCTYPE html>
<html lang="en">
	<head>

		<!-- Basic -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>Contact Us Advanced | Porto - Multipurpose Website Template</title>	

		<meta name="keywords" content="WebSite Template" />
		<meta name="description" content="Porto - Multipurpose Website Template">
		<meta name="author" content="okler.net">

		<!-- Favicon -->
		<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
		<link rel="apple-touch-icon" href="img/apple-touch-icon.png">

		<!-- Mobile Metas -->
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">

		<!-- Web Fonts  -->
		<link id="googleFonts" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800%7CShadows+Into+Light&display=swap" rel="stylesheet" type="text/css">

		<!-- Vendor CSS -->
		<link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="vendor/fontawesome-free/css/all.min.css">
		<link rel="stylesheet" href="vendor/animate/animate.compat.css">
		<link rel="stylesheet" href="vendor/simple-line-icons/css/simple-line-icons.min.css">
		<link rel="stylesheet" href="vendor/owl.carousel/assets/owl.carousel.min.css">
		<link rel="stylesheet" href="vendor/owl.carousel/assets/owl.theme.default.min.css">
		<link rel="stylesheet" href="vendor/magnific-popup/magnific-popup.min.css">

		<!-- Theme CSS -->
		<link rel="stylesheet" href="css/theme.css">
		<link rel="stylesheet" href="css/theme-elements.css">
		<link rel="stylesheet" href="css/theme-blog.css">
		<link rel="stylesheet" href="css/theme-shop.css">

		<!-- Skin CSS -->
		<link id="skinCSS" rel="stylesheet" href="css/skins/default.css">

		<!-- Theme Custom CSS -->
		<link rel="stylesheet" href="css/custom.css">

	</head>
	<body data-plugin-page-transition>

		<div class="body">
			<header id="header" class="header-transparent header-effect-shrink af" data-plugin-options="{'stickyEnabled': true, 'stickyEffect': 'shrink', 'stickyEnableOnBoxed': true, 'stickyEnableOnMobile': false, 'stickyChangeLogo': true, 'stickyStartAt': 30, 'stickyHeaderContainerHeight': 70}">
				<div class="header-body border-top-0 box-shadow-none" style="background-color: rgb(0, 0, 0, 0);">
					<div class="header-container container-fluid">
						<div class="header-row">
							<div class="header-column">
								<div class="header-row">
									<div class="header-logo">
										<a href="index.html">
											<img alt="back" width="64" height="64" src="img/logos/n8n-logo-sem-fundo-alternativa.png">
										</a>
									</div>
								</div>
							</div>
							<div class="header-column justify-content-end">
								<div class="header-row">
									<div class="header-nav header-nav-links header-nav-dropdowns-dark header-nav-light-text order-2 order-lg-1">
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</header>
			

			<div role="main" class="main">

				<section class="page-header page-header-modern page-header-background page-header-background-md parallax overlay overlay-color-dark overlay-show overlay-op-5 mt-0" data-plugin-parallax data-plugin-options="{'speed': 1.2}" data-image-src="img/01banner-grande.jpg">
					<div class="container">
						<div class="row">
							<div class="col-md-8 order-2 order-md-1 align-self-center p-static">
								<div class="py-4">
									<h1 class="text-13" style="color: white;"><strong>CONSULTOR&nbsp EMPRESARIAL</strong></h1>
								</div>
							</div>
						</div>
					</div>
				</section>

				<div class="container">

					<div class="row py-4">
						<div class="col-lg-7 appear-animation" data-appear-animation="fadeIn" data-appear-animation-delay="650">

							<div class="offset-anchor" id="contact-sent"></div>

							<form id="contactFormAdvanced" method="POST" enctype="multipart/form-data">
								<input type="hidden" value="true" name="emailSent" id="emailSent">
								<div class="row">
									<div class="form-group col-md-6">
										<label class="form-label mb-1 text-2">Digite o Seu <strong>Número de Telefone</strong></label>
										<input type="tel" maxlength="13" class="form-control text-3 h-auto py-2" name="telefone" id="telefone">
									</div>
									<div class="form-group col-md-6">
										<label class="form-label mb-1 text-2">Digite o Seu <strong>Email</strong></label>
										<input type="email" value="" maxlength="100" class="form-control text-3 h-auto py-2" name="email" id="email">
									</div>
								</div>
								<hr style="background-color: rgb(0, 0, 0, 0);">
								<hr style="background-color: rgb(0, 0, 0, 0);">
								<div class="row">
									<div class="form-group col-md-12 mb-4">
										<label class="form-label mb-1 text-2"><h1 class="font-weight-bold" style="color: white;">Qual é a Sua Ideia?</h1></label>
										<textarea maxlength="5000" rows="6" class="form-control text-3 h-auto py-2" name="message" id="message"></textarea>
									</div>
								</div>
								<div class="row">
									<div class="form-group col-md-12 mb-5">
										<input type="submit" id="contactFormSubmit" value="Enviar Ideia" class="btn btn-primary btn-modern pull-right" data-loading-text="Loading...">
									</div>
								</div>
							</form>
							<!-- Mensagem de retorno do formulário -->
							<div id="formMessage" style="display: none;" class="alert" role="alert"></div>
  							<iframe id="iframeResultado" style="width: 100%; height: 600px; border-radius: 8px; border-color: white;"></iframe>
						</div>
						<div class="col-lg-5">

							<div class="overflow-hidden mb-1">
								<h4 class="text-primary mb-0 appear-animation" data-appear-animation="maskUp" data-appear-animation-delay="200">Como Funciona?</h4>
							</div>
							<div class="overflow-hidden mb-3">
								<p class="lead text-4 mb-0 appear-animation" data-appear-animation="maskUp" data-appear-animation-delay="400">Você descreve sua ideia de startup (ex: "Quero fazer um app que conecta freelancers e clientes em tempo real") e o n8n, via Gemini 2.0 flash, analisa a ideia e dá feedback em 4 pontos: Potencial de mercado, Público-alvo, Sugestões de melhorias e Pontos fracos. Em seguida enviamos os resultados tanto para seu e-mail, quanto para seu whatsapp.</p>
							</div>
							
						</div>
					</div>
				</div>

		<!-- Vendor -->
		<script src="vendor/plugins/js/plugins.min.js"></script>

		<!-- Theme Base, Components and Settings -->
		<script src="js/theme.js"></script>

		<!-- Theme Custom -->
		<script src="js/custom.js"></script>

		<!-- Theme Initialization Files -->
		<script src="js/theme.init.js"></script>

		<!-- Current Page Vendor and Views -->
		<script src="js/views/view.contact.js"></script>

		<!-- Mnesagens personalizadas -->
		<div id="toastContainer" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999;"></div>

		<!-- ANIMAÇÃO DE PROCESSANDO DADOS -->
		<script>
		document.getElementById('contactFormAdvanced').addEventListener('submit', async function(e) {
			e.preventDefault();

			const form = e.target;
			const formData = new FormData(form);
			const webhookUrl = 'http://3.15.155.127:5678/webhook-test/api'; // Substitua pelo seu endpoint

			const toastContainer = document.getElementById('toastContainer');

			function createToast(message, type = 'info') {
				const toast = document.createElement('div');
				toast.classList.add('custom-toast');
				toast.dataset.toastId = 'main-toast';

				toast.style.padding = '15px 20px';
				toast.style.marginTop = '10px';
				toast.style.borderRadius = '8px';
				toast.style.boxShadow = '0 2px 10px rgba(0,0,0,0.3)';
				toast.style.fontSize = '16px';
				toast.style.color = '#fff';
				toast.style.opacity = '0';
				toast.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
				toast.style.transform = 'translateY(20px)';

				// Cor baseada no tipo
				switch (type) {
					case 'success':
						toast.style.backgroundColor = '#28a745';
						break;
					case 'error':
						toast.style.backgroundColor = '#dc3545';
						break;
					case 'warning':
						toast.style.backgroundColor = '#ffc107';
						toast.style.color = '#000';
						break;
					default:
						toast.style.backgroundColor = '#007bff';
				}

				toast.textContent = message;
				toastContainer.innerHTML = ''; // remove outros toasts
				toastContainer.appendChild(toast);

				setTimeout(() => {
					toast.style.opacity = '1';
					toast.style.transform = 'translateY(0)';
				}, 50);
			}

			function updateToastMessage(message, type = 'info') {
				const toast = document.querySelector('[data-toast-id="main-toast"]');
				if (!toast) return;

				// Atualiza conteúdo e cor
				toast.textContent = message;

				switch (type) {
					case 'success':
						toast.style.backgroundColor = '#28a745';
						toast.style.color = '#fff';
						break;
					case 'error':
						toast.style.backgroundColor = '#dc3545';
						toast.style.color = '#fff';
						break;
					case 'warning':
						toast.style.backgroundColor = '#ffc107';
						toast.style.color = '#000';
						break;
					default:
						toast.style.backgroundColor = '#007bff';
						toast.style.color = '#fff';
				}
			}

			createToast('Processando dados...', 'info'); // Mostra imediatamente

			try {
				const response = await fetch(webhookUrl, {
					method: 'POST',
					body: formData
				});

				const text = await response.text();
				if (!text.trim()) {
					updateToastMessage('Resposta vazia do servidor.', 'warning');
					return;
				}

				let data;
				try {
					data = JSON.parse(text);
				} catch (e) {
					updateToastMessage('Erro ao interpretar a resposta do servidor.', 'error');
					return;
				}

				if (data.htmlBase64) {
					const iframe = document.getElementById('iframeResultado');
					iframe.srcdoc = atob(data.htmlBase64);
				}

				if (data.myField) {
					updateToastMessage(data.myField, 'warning');
				} else {
					updateToastMessage('Feito!', 'success');
					form.reset();
				}
			} catch (error) {
				console.error('Erro:', error);
				updateToastMessage('Erro de conexão com o servidor.', 'error');
			}

		});
		</script>

		<!-- ATIVANDO ANIMAÇÃO -->
		<div id="toastContainer" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999;"></div>

	</body>
</html>
